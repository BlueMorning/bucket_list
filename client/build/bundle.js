!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e){const n=function(t){this.selectElement=t,this.onChange=void 0,this.countries=[],this.selectElement.addEventListener("change",function(t){const e=t.target.selectedIndex,n=this.countries[e];this.onChange(n)}.bind(this),!1)};n.prototype.render=function(t){this.selectElement.innerHTML="",this.countries=t,this.countries.forEach(function(t,e){t.index=e,this.addOption(t,e)}.bind(this))},n.prototype.addOption=function(t,e){const n=document.createElement("option");n.value=e,n.text=t.name,this.selectElement.appendChild(n)},n.prototype.setSelectedIndex=function(t){this.selectElement.selectedIndex=t},t.exports=n},function(t,e){const n=function(t){this.countries=[],this.onUpdate=null,this.url=t};n.prototype.populate=function(){const t=new XMLHttpRequest;t.open("GET",this.url),t.onload=function(){if(200===t.status){const e=t.responseText,n=JSON.parse(e);this.countries=n,this.onUpdate(n)}}.bind(this),t.send(null)},n.prototype.addCountry=function(t){this.countries.push(t),this.onUpdate(this.countries);const e=new XMLHttpRequest;e.open("POST",this.url),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){e.status},e.send(JSON.stringify({country:t}))},t.exports=n},function(t,e){const n=function(t){this.element=t,this.onAdd=console.log};n.prototype.render=function(t){const e=this.element.querySelectorAll("p");e[0].innerText=t.name,e[1].innerText=t.population,e[2].innerText=t.capital,this.element.querySelector("#add-button").addEventListener("click",function(){this.onAdd(t)}.bind(this))},t.exports=n},function(t,e){const n=function(t){this.listElement=t,this.onChange=void 0,this.countries=[]};n.prototype.render=function(t){this.listElement.innerHTML="",this.countries=t,this.countries.forEach(function(t){this.addItem(t)}.bind(this))},n.prototype.addItem=function(t,e){const n=document.createElement("li");n.innerHTML=t.name,this.listElement.appendChild(n)},t.exports=n},function(t,e,n){const o=n(0),i=n(3),s=n(2),c=(n(0),n(1));document.addEventListener("DOMContentLoaded",function(){const t=new o(document.querySelector("#countries")),e=new s(document.querySelector("#info")),n=new i(document.querySelector("#bucket-list"));t.onChange=function(t){e.render(t)};const r=new c("https://restcountries.eu/rest/v1"),u=new c("http://localhost:3000/bucketList");r.onUpdate=function(e){t.render(e)},u.onUpdate=function(t){n.render(t)},e.onAdd=function(t){u.addCountry(t)},r.populate(),u.populate()})}]);
//# sourceMappingURL=bundle.js.map